"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[9322],{2692(e,s,t){t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"walrus-sites/redirects","title":"Redirecting Objects to Walrus Sites","description":"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.","source":"@site/../content/walrus-sites/redirects.mdx","sourceDirName":"walrus-sites","slug":"/walrus-sites/redirects","permalink":"/docs/walrus-sites/redirects","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/walrus-sites/redirects.mdx","tags":[],"version":"current","frontMatter":{"title":"Redirecting Objects to Walrus Sites","description":"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.","keywords":["walrus sites","redirects","nft","sui objects","display properties","object-specific sites","move contracts"]},"sidebar":"sitesSidebar","previous":{"title":"Linking from and to Walrus Sites","permalink":"/docs/walrus-sites/linking"},"next":{"title":"CI/CD","permalink":"/docs/walrus-sites/ci-cd"}}');var n=t(5656),r=t(6145);const a={title:"Redirecting Objects to Walrus Sites",description:"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.",keywords:["walrus sites","redirects","nft","sui objects","display properties","object-specific sites","move contracts"]},o=void 0,c={},d=[];function l(e){const s={a:"a",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Consider a collection of NFTs, such as the one published by ",(0,n.jsx)(s.a,{href:"https://flatland.wal.app",children:"https://flatland.wal.app"}),". As shown there, each minted NFT has its own Walrus Site, which can be personalized based on the contents, for example, the color, of the NFT itself."]}),"\n",(0,n.jsxs)(s.p,{children:['To achieve this, add a "redirect" in the NFT\'s ',(0,n.jsx)(s.a,{href:"https://docs.sui.io/standards/display#sui-utility-objects",children:(0,n.jsx)(s.code,{children:"Display"})})," property. Each time an NFT's object ID is browsed through a portal, the portal checks the ",(0,n.jsx)(s.code,{children:"Display"})," of the NFT and, if it encounters the ",(0,n.jsx)(s.code,{children:"walrus site address"})," key, it fetches the Walrus Site that is at the corresponding object ID."]}),"\n",(0,n.jsxs)(s.p,{children:["When creating the ",(0,n.jsx)(s.code,{children:"Display"})," of the NFT, you can include the key-value pair that points to the Walrus Site that is to be used:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-move",children:'...\nconst VISUALIZATION_SITE: address = @0x901fb0...;\ndisplay.add(b"walrus site address".to_string(), VISUALIZATION_SITE.to_string());\n...\n'})}),"\n",(0,n.jsxs)(s.p,{children:["This example only opens the specified Walrus Site when browsing the object ID of the NFT. To ensure that the properties of the NFT can be used to personalize the site, this needs to be done in the ",(0,n.jsx)(s.code,{children:"VISUALIZATION_SITE"}),". Since the subdomain is still pointing to the NFT's object ID, the Walrus Site that is loaded can check its ",(0,n.jsx)(s.code,{children:"origin"})," in JavaScript, and use the subdomain to determine the NFT, fetch it from chain, and use its internal fields to modify the displayed site."]}),"\n",(0,n.jsxs)(s.p,{children:["For an end-to-end example, see the ",(0,n.jsxs)(s.a,{href:"https://github.com/MystenLabs/example-walrus-sites/tree/main/flatland",children:[(0,n.jsx)(s.code,{children:"flatland"})," example"]}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},6145(e,s,t){t.d(s,{R:()=>a,x:()=>o});var i=t(7140);const n={},r=i.createContext(n);function a(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);